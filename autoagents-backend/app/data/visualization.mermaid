classDiagram
    %% Controller Layer
    class ProductController
    ProductController : -productService ProductService
    ProductController : +getAll() List
    ProductController : +getById(id) Product
    ProductController : +create(dto) Product
    ProductController : +update(id dto) Product
    ProductController : +delete(id) void

    class CustomerController
    CustomerController : -customerService CustomerService
    CustomerController : +getAll() List
    CustomerController : +getById(id) Customer
    CustomerController : +create(dto) Customer
    CustomerController : +update(id dto) Customer
    CustomerController : +delete(id) void

    %% Service Layer
    class ProductService
    ProductService : -productRepo ProductRepository
    ProductService : -validator Validator
    ProductService : -logger Logger
    ProductService : +findAll() List
    ProductService : +findById(id) Product
    ProductService : +create(data) Product
    ProductService : +update(id data) Product
    ProductService : +delete(id) boolean
    ProductService : +validate(data) boolean

    class CustomerService
    CustomerService : -customerRepo CustomerRepository
    CustomerService : -validator Validator
    CustomerService : -logger Logger
    CustomerService : +findAll() List
    CustomerService : +findById(id) Customer
    CustomerService : +create(data) Customer
    CustomerService : +update(id data) Customer
    CustomerService : +delete(id) boolean
    CustomerService : +validate(data) boolean

    %% Repository Layer
    class ProductRepository
    ProductRepository : -database Database
    ProductRepository : -collection string
    ProductRepository : +save(entity) Product
    ProductRepository : +findById(id) Product
    ProductRepository : +findAll() List
    ProductRepository : +update(id entity) Product
    ProductRepository : +deleteById(id) boolean
    ProductRepository : +exists(id) boolean

    class CustomerRepository
    CustomerRepository : -database Database
    CustomerRepository : -collection string
    CustomerRepository : +save(entity) Customer
    CustomerRepository : +findById(id) Customer
    CustomerRepository : +findAll() List
    CustomerRepository : +update(id entity) Customer
    CustomerRepository : +deleteById(id) boolean
    CustomerRepository : +exists(id) boolean

    %% Model/Entity Layer
    class Product
    Product : -id string
    Product : -name string
    Product : -description string
    Product : -status string
    Product : -isActive boolean
    Product : -createdAt DateTime
    Product : -updatedAt DateTime
    Product : +toJSON() object
    Product : +validate() boolean

    class Customer
    Customer : -id string
    Customer : -name string
    Customer : -description string
    Customer : -status string
    Customer : -isActive boolean
    Customer : -createdAt DateTime
    Customer : -updatedAt DateTime
    Customer : +toJSON() object
    Customer : +validate() boolean

    %% DTO Layer
    class ProductDTO
    ProductDTO : +name string
    ProductDTO : +description string
    ProductDTO : +status string

    class CustomerDTO
    CustomerDTO : +name string
    CustomerDTO : +description string
    CustomerDTO : +status string

    %% Shared Components
    class Database
    Database : -connectionString string
    Database : +connect() void
    Database : +disconnect() void
    Database : +getCollection(name) Collection

    class Validator
    Validator : +validate(data schema) boolean
    Validator : +sanitize(data) object

    class Logger
    Logger : +info(msg) void
    Logger : +error(msg) void
    Logger : +debug(msg) void

    %% Relationships
    ProductController --> ProductService : uses
    ProductService --> ProductRepository : uses
    ProductService --> Validator : uses
    ProductService --> Logger : uses
    ProductRepository --> Database : uses
    ProductRepository --> Product : manages
    ProductController ..> ProductDTO : receives
    CustomerController --> CustomerService : uses
    CustomerService --> CustomerRepository : uses
    CustomerService --> Validator : uses
    CustomerService --> Logger : uses
    CustomerRepository --> Database : uses
    CustomerRepository --> Customer : manages
    CustomerController ..> CustomerDTO : receives